<!--
=========================================
Name: products.html
Assignment: Assignment 3
Authors): Jabez Chowdhury 30122363, Alex Tong 30132516
Submission: Mar 10, 2024
Description: Products page for Assignment 3
=========================================
-->

<!-- products.html -->

<!DOCTYPE html>
<html lang="en">
<head>
    <title>Bookstore</title>
    <meta charset ="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <meta name="description" content="A online bookstore">
    <meta name="keywords" content="Book Store, Books, Textbooks, University, Student">
    <meta name="author" content ="Alex Tong, Jabez Chowdhury">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <img src="images/logo.png" alt="Bookstore Logo" height="150">
        <h1>Bookstore</h1>
    </header>
    <div>
        <nav>
            <ul>
            <li><a href="index.html">Home Page</a></li>
            <li><a href="products.html">Products</a></li>
            <li><a href="contact.html">Contact</a></li>
            <li><a href="login.html">Login</a></li>
            </ul>
        </nav>
    </div>
    <main>
        <section class="product-list">
            <div class="product">
                <img src="images/react.png" alt="React Book" height="210">
                <h3>The Road to<br>React</h3>
                <p class="price">$29.99</p> 
                <button class="add-to-cart" onclick="addToCart('The Road to React', 29.99)">Add to Cart</button>
            </div>
            <div class="product">
                <img src="images/flask.png" alt="Flask Book" height="210" >
                <h3>Flask Web<br>Development</h3>
                <p class="price">$39.99</p> 
                <button class="add-to-cart" onclick="addToCart('Flask Web Development', 39.99)">Add to Cart</button> 
            </div>
            <div class="product">
                <img src="images/algorithms.png" alt="Algorithms Book" height="210">
                <h3>Introduction to <br>Algorithms</h3>
                <p class="price">$59.99</p> 
                <button class="add-to-cart" onclick="addToCart('Introduction to Algorithms', 59.99)">Add to Cart</button> 
            </div>
            <div class="product">
                <img src="images/digital.png" alt="Digital Design and Computer Architecture Book" height="210">
                <h3>Digital Design and<br>Computer Architecture</h3>
                <p class="price">$99.99</p> 
                <button class="add-to-cart" onclick="addToCart('Digital Design and Computer Architecture', 99.99)">Add to Cart</button> 
            </div>
        </section>
        <section class="cart-list">
            <h1>Shopping Cart</h1> 
            <div id="cart"></div>
        </section> 
    </main>
    <script>
        const cart = document.getElementById('cart')

        function addToCart(product, price){
            let cartItem = document.getElementById(product)
            if (cartItem){
                let quantityElement = cartItem.children[2];
                let quantity = parseInt(quantityElement.textContent);
                quantity++;
                quantityElement.textContent = quantity;
            }

            else{
                let newCartItem = document.createElement('div')
                newCartItem.setAttribute('id', product);
    
                let productName = document.createElement('span');
                productName.textContent = product + " - ";
                newCartItem.appendChild(productName);
    
                let unitPrice = document.createElement('span');
                unitPrice.textContent = '$'+ price + " - ";
                newCartItem.appendChild(unitPrice);

                let productQuantity = document.createElement('span');
                productQuantity.textContent = '1';
                productQuantity.classList.add('quantity');
                newCartItem.appendChild(productQuantity);
    
                let removeButton = document.createElement('button');
                removeButton.textContent = 'Remove';
                removeButton.classList.add('remove-button');
                removeButton.addEventListener('click', function(){
                removeFromCart(product);
                }  );
                newCartItem.appendChild(removeButton);
    
                cart.appendChild(newCartItem);
            }
            alert (`${product} has been added to the cart.`);
        }

        function removeFromCart(product){
            let cartItem = document.getElementById(product)
            let quantityElement = cartItem.children[2];
        let quantity = parseInt(quantityElement.textContent);
            quantity--;
            if (quantity === 0){
                cartItem.remove()
            }
            else{
            quantityElement.textContent = quantity;
            }
        }
        
    </script>
    <footer>
        <p>&copy;2024 Bookstore</p>
    </footer>
</body>
</html>